blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
```{r,warning=FALSE}
cocktails$measure
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
---
title: How does the US spending on kids change?
author: Xuxin Zhang
date: '2020-09-22'
slug: post
categories:
- R project
tags:
- data visualization
- gganimate
subtitle: ''
summary: ''
authors: []
lastmod: '2020-09-22T16:33:37+08:00'
featured: no
image:
caption: ''
focal_point: ''
preview_only: yes
projects: []
---
## 1. Introduction
Hifsdf
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::update_meta_addin()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
members_clean<-members%>%select(sex, age, citizenship, expedition_role,success)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
library(tidyverse)
theme_set(theme_light())
members <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-22/members.csv')
expeditions <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-22/expeditions.csv')
peaks <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-22/peaks.csv')
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,11))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
geom_text(aes(label = n, x = n))+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
geom_text(aes(label = n, x = n, y = peak_name))+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
geom_text(aes(label = n))+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+
geom_text(aes(label = n))+
coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+
geom_text(aes(label = n, y = n))+
coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+
geom_text(aes(label = n, y = n), vjust = 0)+
coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+
geom_text(aes(label = n, y = n), vjust = 1)+
coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+
geom_text(aes(label = n, y = n), hjust = 1)+
coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+
geom_text(aes(label = n, y = n), hjust = 1.3)+
coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+
geom_text(aes(label = n, y = n), hjust = 1.3, size = 2)+
coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
expeditions%>%
mutate(peak_name = fct_lump_n(peak_name,9))%>%
filter(!is.na(peak_name))%>%add_count(peak_name)%>%
ggplot(aes(x = reorder(peak_name,n)))+geom_bar(fill = "lightskyblue3")+
geom_text(aes(label = n, y = n), hjust = 1.3, size = 4)+
coord_flip()+
labs(y = "Count", x = "",
title = "The number of attempts of climbing for each mountains")+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue")
)
library(plotly)
ggplotly(members%>%
ggplot(aes(x = year,fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired"))
library(plotly)
ggplotly(members%>%
ggplot(aes(x = year,fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired"))
ggplotly(members%>%
ggplot(aes(x = as.factor(year),fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired"))
ggplotly(members%>%
ggplot(aes(x = as.factor(year),fill = success))+
geom_col(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired"))
ggplot(aes(x = as.integer(year,fill = success))+
library(plotly)
ggplotly(members%>%
ggplotly(members%>%
ggplot(aes(x = as.integer(year,fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired")))
library(plotly)
ggplotly(members%>%
ggplot(aes(x = as.integer(year,fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired")))
library(plotly)
ggplotly(members%>%
ggplot(aes(x = as.integer(year,fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired")))
library(plotly)
ggplotly(members%>%
ggplot(aes(x = as.integer(year),fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired")))
library(plotly)
ggplotly(members%>%
ggplot(aes(x = as.integer(year),fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired"))
library(plotly)
ggplotly(members%>%
ggplot(aes(x = as.integer(year),fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired")+
labs(x = "Year", y = "Count",
title = "How does the number of successful and failing attempts change?",
subtitle = "After searching infomation online, the plunging number of attempts at 2015 is due to a huge earthquake happened around Everest"))
library(plotly)
members%>%
ggplot(aes(x = as.integer(year),fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired")+
labs(x = "Year", y = "Count",
title = "How does the number of successful and failing attempts change?",
subtitle = "After searching infomation online, the plunging number of attempts at 2015 is due to a huge earthquake happened around Everest")
library(plotly)
members%>%
ggplot(aes(x = as.integer(year),fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired")+
labs(x = "Year", y = "Count",
title = "How does the number of successful and failing attempts change?",
subtitle = "After searching infomation online,
the plunging number of attempts at 2015 is due to a huge earthquake happened around Everest")
library(plotly)
members%>%
ggplot(aes(x = as.integer(year),fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired")+
labs(x = "Year", y = "Count",
title = "How does the number of successful and failing attempts change?",
subtitle = "After searching infomation online,
the plunging number of attempts at 2015 is due to a huge earthquake happened around Everest")
library(plotly)
members%>%
ggplot(aes(x = as.integer(year),fill = success))+
geom_histogram(bins = 100)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue")
)+
scale_fill_brewer(palette = "Paired")+
labs(x = "Year", y = "Count",
title = "How does the number of successful and failing attempts change?",
subtitle = "After searching infomation online,
the plunging number of attempts at 2015 is due to
a huge earthquake happened around Everest")
library(plotly)
ggplotly(members%>%
mutate(peak_name = fct_lump_n(peak_name,5))%>%
filter(!is.na(peak_name))%>%
ggplot(aes(x = year,fill = success))+
geom_histogram(bins = 50)+
theme(
panel.grid.major = element_blank(),
axis.ticks = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_rect(fill =  "aliceblue"),
plot.background = element_rect(fill ="aliceblue"),
legend.background = element_rect(fill ="aliceblue"))+
facet_wrap(~peak_name,scales = "free")+
scale_fill_brewer(palette = "Paired"))
blogdown:::serve_site()
blogdown:::serve_site()
servr::daemon_stop(1)
blogdown:::serve_site()
blogdown:::serve_site()
