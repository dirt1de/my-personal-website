---
title: Data analysis on campus recruitment
author: Xuxin Zhang
date: '2020-09-14'
slug: data-analysis-on-campus-recruitment
categories:
  - R project
tags:
  - tidymodel
  - machine learning
  - data visualization
subtitle: ''
summary: ''
authors: []
lastmod: '2020-09-14T12:54:08+08:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>


<div id="introduction" class="section level2">
<h2>1. Introduction</h2>
<p>Today, we will analyze the data on campus recruitment. The data is simulated for MBA students at XYZ campus and includes the students’ performance from middle school all the way to MBA. It also contains the application status of a student as well as his/her salary if placed. In this project, we aim to unfold the key factors that determines the application status. In order to achieve this goal, we first do some primary data analysis and then build a machine learning model which hopefully could predict whether a student would be placed or not. You can access the data in the following websites.</p>
<p><a href="https://www.kaggle.com/benroshan/factors-affecting-campus-placement" class="uri">https://www.kaggle.com/benroshan/factors-affecting-campus-placement</a></p>
</div>
<div id="preliminary-data-analysis" class="section level2">
<h2>2. Preliminary data analysis</h2>
<p>First, we need to import our data and loading the packages we are going to use.</p>
<pre class="r"><code>library(tidyverse)
library(tidymodels)
library(plotly)
campus &lt;- read_csv(&quot;/Users/xuxian/Documents/UCLA related/R/Projects/tidymodel/campus recruit/campus recruit.csv&quot;)
theme_set(theme_light())</code></pre>
<p>We can take a look at the data we have. Notice that the names of the columns could be really confusing, so we need to change them into clearer names.</p>
<pre class="r"><code>campus</code></pre>
<pre><code>## # A tibble: 215 x 15
##    sl_no gender ssc_p ssc_b hsc_p hsc_b hsc_s degree_p degree_t workex etest_p
##    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;dbl&gt;
##  1     1 M       67   Othe…  91   Othe… Comm…     58   Sci&amp;Tech No        55  
##  2     2 M       79.3 Cent…  78.3 Othe… Scie…     77.5 Sci&amp;Tech Yes       86.5
##  3     3 M       65   Cent…  68   Cent… Arts      64   Comm&amp;Mg… No        75  
##  4     4 M       56   Cent…  52   Cent… Scie…     52   Sci&amp;Tech No        66  
##  5     5 M       85.8 Cent…  73.6 Cent… Comm…     73.3 Comm&amp;Mg… No        96.8
##  6     6 M       55   Othe…  49.8 Othe… Scie…     67.2 Sci&amp;Tech Yes       55  
##  7     7 F       46   Othe…  49.2 Othe… Comm…     79   Comm&amp;Mg… No        74.3
##  8     8 M       82   Cent…  64   Cent… Scie…     66   Sci&amp;Tech Yes       67  
##  9     9 M       73   Cent…  79   Cent… Comm…     72   Comm&amp;Mg… No        91.3
## 10    10 M       58   Cent…  70   Cent… Comm…     61   Comm&amp;Mg… No        54  
## # … with 205 more rows, and 4 more variables: specialisation &lt;chr&gt;,
## #   mba_p &lt;dbl&gt;, status &lt;chr&gt;, salary &lt;dbl&gt;</code></pre>
<pre class="r"><code>campus&lt;-campus%&gt;%transmute(sl_no,gender,
                   middle_school_score = ssc_p,
                   middle_school_board = ssc_b,
                   high_school_score = hsc_p, 
                   high_school_board = hsc_b, 
                   high_school_special = hsc_s, 
                   college_score = degree_p, 
                   college_major = degree_t, 
                   workex, employ_test = etest_p,
                   mba_special = specialisation,
                   mba_score = mba_p, status,
                   salary)
campus</code></pre>
<pre><code>## # A tibble: 215 x 15
##    sl_no gender middle_school_s… middle_school_b… high_school_sco…
##    &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt; &lt;chr&gt;                       &lt;dbl&gt;
##  1     1 M                  67   Others                       91  
##  2     2 M                  79.3 Central                      78.3
##  3     3 M                  65   Central                      68  
##  4     4 M                  56   Central                      52  
##  5     5 M                  85.8 Central                      73.6
##  6     6 M                  55   Others                       49.8
##  7     7 F                  46   Others                       49.2
##  8     8 M                  82   Central                      64  
##  9     9 M                  73   Central                      79  
## 10    10 M                  58   Central                      70  
## # … with 205 more rows, and 10 more variables: high_school_board &lt;chr&gt;,
## #   high_school_special &lt;chr&gt;, college_score &lt;dbl&gt;, college_major &lt;chr&gt;,
## #   workex &lt;chr&gt;, employ_test &lt;dbl&gt;, mba_special &lt;chr&gt;, mba_score &lt;dbl&gt;,
## #   status &lt;chr&gt;, salary &lt;dbl&gt;</code></pre>
<p>Since our goal in this project is to create a model to predict whether a peron is placed or not, we can first take a look at how many people are placed in this data set.</p>
<pre class="r"><code>campus%&gt;%count(status)</code></pre>
<pre><code>## # A tibble: 2 x 2
##   status         n
##   &lt;chr&gt;      &lt;int&gt;
## 1 Not Placed    67
## 2 Placed       148</code></pre>
<p>To study which factors can influence the placing status, we first start from analyzing how they perform in their middle school.</p>
<pre class="r"><code>campus%&gt;%ggplot(aes(x = middle_school_score, fill = status))+
    geom_histogram(aes(y = ..density..), alpha = 0.5, color = &quot;white&quot;)+
    geom_density(alpha = 0.6)+scale_fill_brewer(palette = &quot;Paired&quot;)+
    labs(x = &quot;Scores at middle school&quot;, y = &quot;Density&quot;, title = &quot;Distribution of scores when the applicants were in middle school&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="/post/2020-09-14-data-analysis-on-campus-recruitment_files/figure-html/unnamed-chunk-5-1.png" width="672" />
In this visualization, we see that generally the applicants who receive the offer (placed) have a higher score in middle school.</p>
<p>Next, we turn to the type of board of education for these applicants.</p>
<pre class="r"><code>library(ggplot2)
campus%&gt;%
    ggplot(aes(x = middle_school_score, fill = status))+
    geom_histogram(aes(y = ..density..), alpha = 0.5, color = &quot;white&quot;)+
    geom_density(alpha = 0.6)+
    scale_fill_brewer(palette = &quot;Paired&quot;)+facet_wrap(~middle_school_board,ncol = 1)+
    labs(x = &quot;Scores at middle school&quot;, y = &quot;Density&quot;, title = &quot;Distribution of scores when the applicants were in middle school&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="/post/2020-09-14-data-analysis-on-campus-recruitment_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Based on this graph, we could see that the scores for the people with central board of education diverges less compared to the those of people with other boards. This pattern is actually a reflection of the distribution of educational resources among middle schools: the reason why the scores of applicants studying in central board of education don’t differ that much is becauses they receive almost equal amount of educational resources. The difference is mostly caused by the the individual difference among the applicants; however, for schools with other types of board of education, in addition to the individual difference among the students, educational resources also play an important role in determining the scores of the students. For example, some schools may have a better team of teachers than the others. Gradually, these difference of educational resources would inevitably lead to the diverge of students performance.</p>
<p>Then we would proceed to their high schools. Again, we analyze the distribution of their scores for placed and unplaced applicants. From the following graph, we see the high school scores of unplaced applicants are generally lower than those of placed applicants, which means the high schools score is another important factor.</p>
<pre class="r"><code>campus%&gt;%
  ggplot(aes(x = high_school_score, fill = status))+
  geom_histogram(aes(y = ..density..), alpha = 0.5, color = &quot;white&quot;)+
  geom_density(alpha = 0.6)+scale_fill_brewer(palette = &quot;Paired&quot;)+
  labs(x = &quot;Scores at high school&quot;, y = &quot;Density&quot;, title = &quot;Distribution of scores when the applicants were in high school&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="/post/2020-09-14-data-analysis-on-campus-recruitment_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>We can exploit more information by adding another variable to our plot above: <code>high school specialization</code>. From this graph, we can see two unusual spikes in the density for placed applicants specialized in Arts. My guess for this phenomenon is that Arts specialization is not bonus point in the recruitment process, so the applicants specialized in Arts during their high schools must be really excellent so that they could be considered by the recruiters.</p>
<pre class="r"><code>campus%&gt;%
  ggplot(aes(x = high_school_score, fill = status))+
  geom_histogram(aes(y = ..density..), alpha = 0.5, color = &quot;white&quot;)+
  geom_density(alpha = 0.6)+
  scale_fill_brewer(palette = &quot;Paired&quot;)+facet_wrap(~high_school_special)+
  labs(x = &quot;Scores at high school&quot;, y = &quot;Density&quot;, title = &quot;Distribution of scores for applicants with different high school specialization&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="/post/2020-09-14-data-analysis-on-campus-recruitment_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>After finishing the analysis of the applicants’ performance in their high school, we then turn to their performance in college. As we can see, there still exists a diverge between placed applicants’ scores and unplaced applicants’ scores, which means the scores at college is also an important factor to consider during the recruiting process.</p>
<pre class="r"><code>campus%&gt;%
  ggplot(aes(x = college_score, fill = status))+
  geom_histogram(aes(y = ..density..), alpha = 0.5, color = &quot;white&quot;)+
  geom_density(alpha = 0.6)+scale_fill_brewer(palette = &quot;Paired&quot;)+
  labs(x = &quot;Scores at college&quot;, y = &quot;Density&quot;, title = &quot;Distribution of scores when the applicants were in college&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="/post/2020-09-14-data-analysis-on-campus-recruitment_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Here, we see that for students studying other majors, there is no significant difference between the scores of placed and unplaced students. On the contrarory, we see that the diveregnce occurs in both Comm&amp;Mgmt and Sci&amp;Tech majors.</p>
<pre class="r"><code>campus%&gt;%
  ggplot(aes(x = college_score, fill = status))+
  geom_histogram(aes(y = ..density..), alpha = 0.5, color = &quot;white&quot;)+
  geom_density(alpha = 0.6)+
  scale_fill_brewer(palette = &quot;Paired&quot;)+facet_wrap(~college_major)+
  labs(x = &quot;Scores at college&quot;, y = &quot;Density&quot;, title = &quot;Distribution of scores for college students with different majors&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="/post/2020-09-14-data-analysis-on-campus-recruitment_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Finally, we will analyze their MBA performance. Quite surprisingly, there are only two options for their MBA specialization: Mk&amp;Fin and Mk&amp;HR. Furthermore, we see that among those who specialized in Mk&amp;Fin, there is a larger proportion of people who get placed than those specialized in Mk&amp;HR, which means the company has a greater demand for people specialized in Mk&amp;Fin.</p>
<pre class="r"><code>ggplotly(campus%&gt;%
  count(mba_special,status)%&gt;%
  ggplot(aes(x = mba_special, y = n, fill = status))+
  geom_col(position = &quot;fill&quot;)+scale_fill_brewer(palette = &quot;Paired&quot;)+
  labs(x = &quot;MBA specialization&quot;, y = &quot;Proportion&quot;, title = &quot;The proportion of applicants being placed in two MBA specialization&quot;))</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":[{"orientation":"v","width":[0.9,0.9],"base":[0.791666666666667,0.557894736842105],"x":[1,2],"y":[0.208333333333333,0.442105263157895],"text":["mba_special: Mkt&Fin<br />n: 25<br />status: Not Placed","mba_special: Mkt&HR<br />n: 42<br />status: Not Placed"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(166,206,227,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Not Placed","legendgroup":"Not Placed","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9],"base":[0,0],"x":[1,2],"y":[0.791666666666667,0.557894736842105],"text":["mba_special: Mkt&Fin<br />n: 95<br />status: Placed","mba_special: Mkt&HR<br />n: 53<br />status: Placed"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(31,120,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Placed","legendgroup":"Placed","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"The proportion of applicants being placed in two MBA specialization","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,2.6],"tickmode":"array","ticktext":["Mkt&Fin","Mkt&HR"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Mkt&Fin","Mkt&HR"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"MBA specialization","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"Proportion","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.913385826771654},"annotations":[{"text":"status","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"64d653d556f":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"64d653d556f","visdat":{"64d653d556f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Based on the following graph, we see that in the more demanded specialization area of Mk&amp;Fin, the average MBA scores of placed applicants are higher. However, for the the other specialization, the placed applicants don’t show any advantage in their scores. That is to say, the MBA score is a determining factor for recruitment only if the applicant is specialized in Mk&amp;Fin. If the applicant specializes in Mk&amp;HR, then the scores may not be as importnant.</p>
<pre class="r"><code>campus%&gt;%
  ggplot(aes(x = mba_special, y = mba_score, fill = status))+
  geom_boxplot(alpha = 0.7)+scale_fill_brewer(palette = &quot;Paired&quot;)+
  labs(x = &quot;MBA specialization&quot;, y = &quot;MBA scores&quot;, title = &quot;The score distribution in two MBA specialization&quot;)</code></pre>
<p><img src="/post/2020-09-14-data-analysis-on-campus-recruitment_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>We can take a step further to see if the MBA scores would affect the salary for the placed applicants.</p>
<p>Depends on the graph below, we see that for people who have previous working experience, between the MBA scores of 55 and 67, they tend to have a higher salary than those who have no working experience. The situation changes when the scores for applicants are greater than 67. This naturally leads us to ask the next question: does people with previous working experience generally have higher salary level?</p>
<pre class="r"><code>ggplotly(campus%&gt;%
           ggplot(aes(x = mba_score, y = salary, color = workex))+
           geom_point(alpha = 0.6)+
           geom_smooth(se = FALSE)+
           scale_color_brewer(palette = &quot;Paired&quot;)+scale_y_log10()+
           labs(x = &quot;MBA score&quot;, y = &quot;Salary&quot;, title = &quot;The relationship between MBA scores and salary&quot;))</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 67 rows containing non-finite values (stat_smooth).</code></pre>
<div id="htmlwidget-2" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"data":[{"x":[58.8,57.8,59.43,55.5,53.29,61.29,52.21,65.04,68.63,54.96,67.28,64.08,56.7,69.06,68.81,74.01,57.69,51.29,56.7,58.32,62.21,62.77,62.74,51.45,55.47,56.86,62.56,66.72,51.21,62.9,66.53,71.63,62.46,56.11,62.98,62.65,65.49,71.04,65.56,52.71,66.88,63.59,57.99,56.66,62.48,59.69,59.5,58.78,57.1,58.46,60.99,59.24,65.45,66.94,68.53,59.75,67.2,67,64.27,59.42,67.99,60.44,57.03,59.08,64.36,68.03,62.79,59.47,55.41,54.97,69.03,57.31,59.47,60.44,55.3,65.69,73.52,58.31,54.8,60.64,53.94,63.08,55.01,60.5,67.05,58.81,73.33,58.4,64.15,65.63,61.58,60.41,61.9,60.39,58.52,63.23,55.14,62.28,64.08,58.87,65.25,55.03,61.87,60.59,62.72,66.46,65.52,74.56,65.48,69.28,52.64,59.32,60.69,57.9,68.07,72.14,60.02,61.82,57.29,71.43,62.93,56.13,66.94,62.5,61.01,64.74,69.71,71.96,55.8,52.81,58.44,60.11,58.3,56.81,53.39,62.92,56.49,74.49,53.62,60.23,60.22],"y":[5.43136376415899,5.39794000867204,null,5.62838893005031,null,5.36361197989214,null,null,5.33845649360461,null,null,null,5.42324587393681,5.59439255037543,5.55630250076729,5.55630250076729,5.42324587393681,null,5.39794000867204,null,5.44404479591808,null,5.47712125471966,null,5.50514997831991,5.38021124171161,5.61384182187607,5.45788189673399,null,5.47712125471966,null,null,5.39794000867204,null,5.30102999566398,null,null,5.65321251377534,5.33445375115093,5.34242268082221,5.38021124171161,5.55630250076729,5.42813479402879,5.42324587393681,5.47712125471966,5.38021124171161,null,5.38021124171161,null,5.43933269383026,5.43933269383026,null,5.55630250076729,5.38021124171161,5.38021124171161,5.33845649360461,5.52633927738984,null,5.36172783601759,5.43136376415899,null,null,5.34242268082221,null,5.32221929473392,5.47712125471966,null,5.36172783601759,null,5.41497334797082,null,5.34242268082221,null,5.57978359661681,null,null,5.30102999566398,5.47712125471966,5.39794000867204,null,5.39794000867204,5.44715803134222,5.39794000867204,5.33445375115093,5.38021124171161,null,5.54406804435028,5.39794000867204,null,5.30102999566398,null,5.35218251811136,null,5.47712125471966,null,5.60205999132796,5.36735592102602,5.47712125471966,5.38021124171161,5.43136376415899,5.38021124171161,5.47712125471966,null,null,null,5.69897000433602,5.39794000867204,null,null,null,5.47712125471966,null,null,5.34242268082221,5.54406804435028,null,null,5.44090908206522,null,5.40140054078154,null,null,null,null,5.42160392686983,null,5.41497334797082,null,5.42324587393681,5.47712125471966,null,5.38021124171161,5.41497334797082,5.39794000867204,null,null,5.33445375115093,5.60205999132796,5.43933269383026,5.3096301674259,null],"text":["mba_score: 58.80<br />salary: 270000<br />workex: No","mba_score: 57.80<br />salary: 250000<br />workex: No","mba_score: 59.43<br />salary:     NA<br />workex: No","mba_score: 55.50<br />salary: 425000<br />workex: No","mba_score: 53.29<br />salary:     NA<br />workex: No","mba_score: 61.29<br />salary: 231000<br />workex: No","mba_score: 52.21<br />salary:     NA<br />workex: No","mba_score: 65.04<br />salary:     NA<br />workex: No","mba_score: 68.63<br />salary: 218000<br />workex: No","mba_score: 54.96<br />salary:     NA<br />workex: No","mba_score: 67.28<br />salary:     NA<br />workex: No","mba_score: 64.08<br />salary:     NA<br />workex: No","mba_score: 56.70<br />salary: 265000<br />workex: No","mba_score: 69.06<br />salary: 393000<br />workex: No","mba_score: 68.81<br />salary: 360000<br />workex: No","mba_score: 74.01<br />salary: 360000<br />workex: No","mba_score: 57.69<br />salary: 265000<br />workex: No","mba_score: 51.29<br />salary:     NA<br />workex: No","mba_score: 56.70<br />salary: 250000<br />workex: No","mba_score: 58.32<br />salary:     NA<br />workex: No","mba_score: 62.21<br />salary: 278000<br />workex: No","mba_score: 62.77<br />salary:     NA<br />workex: No","mba_score: 62.74<br />salary: 300000<br />workex: No","mba_score: 51.45<br />salary:     NA<br />workex: No","mba_score: 55.47<br />salary: 320000<br />workex: No","mba_score: 56.86<br />salary: 240000<br />workex: No","mba_score: 62.56<br />salary: 411000<br />workex: No","mba_score: 66.72<br />salary: 287000<br />workex: No","mba_score: 51.21<br />salary:     NA<br />workex: No","mba_score: 62.90<br />salary: 300000<br />workex: No","mba_score: 66.53<br />salary:     NA<br />workex: No","mba_score: 71.63<br />salary:     NA<br />workex: No","mba_score: 62.46<br />salary: 250000<br />workex: No","mba_score: 56.11<br />salary:     NA<br />workex: No","mba_score: 62.98<br />salary: 200000<br />workex: No","mba_score: 62.65<br />salary:     NA<br />workex: No","mba_score: 65.49<br />salary:     NA<br />workex: No","mba_score: 71.04<br />salary: 450000<br />workex: No","mba_score: 65.56<br />salary: 216000<br />workex: No","mba_score: 52.71<br />salary: 220000<br />workex: No","mba_score: 66.88<br />salary: 240000<br />workex: No","mba_score: 63.59<br />salary: 360000<br />workex: No","mba_score: 57.99<br />salary: 268000<br />workex: No","mba_score: 56.66<br />salary: 265000<br />workex: No","mba_score: 62.48<br />salary: 300000<br />workex: No","mba_score: 59.69<br />salary: 240000<br />workex: No","mba_score: 59.50<br />salary:     NA<br />workex: No","mba_score: 58.78<br />salary: 240000<br />workex: No","mba_score: 57.10<br />salary:     NA<br />workex: No","mba_score: 58.46<br />salary: 275000<br />workex: No","mba_score: 60.99<br />salary: 275000<br />workex: No","mba_score: 59.24<br />salary:     NA<br />workex: No","mba_score: 65.45<br />salary: 360000<br />workex: No","mba_score: 66.94<br />salary: 240000<br />workex: No","mba_score: 68.53<br />salary: 240000<br />workex: No","mba_score: 59.75<br />salary: 218000<br />workex: No","mba_score: 67.20<br />salary: 336000<br />workex: No","mba_score: 67.00<br />salary:     NA<br />workex: No","mba_score: 64.27<br />salary: 230000<br />workex: No","mba_score: 59.42<br />salary: 270000<br />workex: No","mba_score: 67.99<br />salary:     NA<br />workex: No","mba_score: 60.44<br />salary:     NA<br />workex: No","mba_score: 57.03<br />salary: 220000<br />workex: No","mba_score: 59.08<br />salary:     NA<br />workex: No","mba_score: 64.36<br />salary: 210000<br />workex: No","mba_score: 68.03<br />salary: 300000<br />workex: No","mba_score: 62.79<br />salary:     NA<br />workex: No","mba_score: 59.47<br />salary: 230000<br />workex: No","mba_score: 55.41<br />salary:     NA<br />workex: No","mba_score: 54.97<br />salary: 260000<br />workex: No","mba_score: 69.03<br />salary:     NA<br />workex: No","mba_score: 57.31<br />salary: 220000<br />workex: No","mba_score: 59.47<br />salary:     NA<br />workex: No","mba_score: 60.44<br />salary: 380000<br />workex: No","mba_score: 55.30<br />salary:     NA<br />workex: No","mba_score: 65.69<br />salary:     NA<br />workex: No","mba_score: 73.52<br />salary: 200000<br />workex: No","mba_score: 58.31<br />salary: 300000<br />workex: No","mba_score: 54.80<br />salary: 250000<br />workex: No","mba_score: 60.64<br />salary:     NA<br />workex: No","mba_score: 53.94<br />salary: 250000<br />workex: No","mba_score: 63.08<br />salary: 280000<br />workex: No","mba_score: 55.01<br />salary: 250000<br />workex: No","mba_score: 60.50<br />salary: 216000<br />workex: No","mba_score: 67.05<br />salary: 240000<br />workex: No","mba_score: 58.81<br />salary:     NA<br />workex: No","mba_score: 73.33<br />salary: 350000<br />workex: No","mba_score: 58.40<br />salary: 250000<br />workex: No","mba_score: 64.15<br />salary:     NA<br />workex: No","mba_score: 65.63<br />salary: 200000<br />workex: No","mba_score: 61.58<br />salary:     NA<br />workex: No","mba_score: 60.41<br />salary: 225000<br />workex: No","mba_score: 61.90<br />salary:     NA<br />workex: No","mba_score: 60.39<br />salary: 300000<br />workex: No","mba_score: 58.52<br />salary:     NA<br />workex: No","mba_score: 63.23<br />salary: 400000<br />workex: No","mba_score: 55.14<br />salary: 233000<br />workex: No","mba_score: 62.28<br />salary: 300000<br />workex: No","mba_score: 64.08<br />salary: 240000<br />workex: No","mba_score: 58.87<br />salary: 270000<br />workex: No","mba_score: 65.25<br />salary: 240000<br />workex: No","mba_score: 55.03<br />salary: 300000<br />workex: No","mba_score: 61.87<br />salary:     NA<br />workex: No","mba_score: 60.59<br />salary:     NA<br />workex: No","mba_score: 62.72<br />salary:     NA<br />workex: No","mba_score: 66.46<br />salary: 500000<br />workex: No","mba_score: 65.52<br />salary: 250000<br />workex: No","mba_score: 74.56<br />salary:     NA<br />workex: No","mba_score: 65.48<br />salary:     NA<br />workex: No","mba_score: 69.28<br />salary:     NA<br />workex: No","mba_score: 52.64<br />salary: 300000<br />workex: No","mba_score: 59.32<br />salary:     NA<br />workex: No","mba_score: 60.69<br />salary:     NA<br />workex: No","mba_score: 57.90<br />salary: 220000<br />workex: No","mba_score: 68.07<br />salary: 350000<br />workex: No","mba_score: 72.14<br />salary:     NA<br />workex: No","mba_score: 60.02<br />salary:     NA<br />workex: No","mba_score: 61.82<br />salary: 276000<br />workex: No","mba_score: 57.29<br />salary:     NA<br />workex: No","mba_score: 71.43<br />salary: 252000<br />workex: No","mba_score: 62.93<br />salary:     NA<br />workex: No","mba_score: 56.13<br />salary:     NA<br />workex: No","mba_score: 66.94<br />salary:     NA<br />workex: No","mba_score: 62.50<br />salary:     NA<br />workex: No","mba_score: 61.01<br />salary: 264000<br />workex: No","mba_score: 64.74<br />salary:     NA<br />workex: No","mba_score: 69.71<br />salary: 260000<br />workex: No","mba_score: 71.96<br />salary:     NA<br />workex: No","mba_score: 55.80<br />salary: 265000<br />workex: No","mba_score: 52.81<br />salary: 300000<br />workex: No","mba_score: 58.44<br />salary:     NA<br />workex: No","mba_score: 60.11<br />salary: 240000<br />workex: No","mba_score: 58.30<br />salary: 260000<br />workex: No","mba_score: 56.81<br />salary: 250000<br />workex: No","mba_score: 53.39<br />salary:     NA<br />workex: No","mba_score: 62.92<br />salary:     NA<br />workex: No","mba_score: 56.49<br />salary: 216000<br />workex: No","mba_score: 74.49<br />salary: 400000<br />workex: No","mba_score: 53.62<br />salary: 275000<br />workex: No","mba_score: 60.23<br />salary: 204000<br />workex: No","mba_score: 60.22<br />salary:     NA<br />workex: No"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(166,206,227,1)","opacity":0.6,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(166,206,227,1)"}},"hoveron":"points","name":"No","legendgroup":"No","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[66.28,51.58,62.14,60.85,63.7,64.66,62.54,77.89,63.62,65.33,57.55,64.15,72.78,69.76,69.7,54.55,57.24,68.07,57.65,62.35,70.2,66.69,62,76.18,62.36,62.16,64.44,64.95,61.31,65.83,58.23,56.09,70.85,70.48,64.34,71.49,71,56.7,61.26,68.2,76.26,68.55,60.78,53.49,60.98,67.13,71.77,54.43,56.94,61.29,58.54,61.3,62.48,53.2,65.99,52.72,72.29,66.06,52.38,75.71,58.79,66.04,66.23,70.81,56.6,59.81,64.86,57.34,56.63,58.95,54.48,67.69,71.55,69.72],"y":[5.30102999566398,null,5.40140054078154,5.41497334797082,5.39794000867204,5.30102999566398,5.47712125471966,5.37291200297011,5.47712125471966,null,5.38021124171161,5.54406804435028,5.41497334797082,null,5.30102999566398,5.3096301674259,5.41497334797082,5.43933269383026,5.69897000433602,5.38021124171161,5.47712125471966,5.47712125471966,5.47712125471966,5.60205999132796,5.32221929473392,5.6232492903979,5.47712125471966,null,5.47712125471966,5.38021124171161,5.55630250076729,null,5.47712125471966,5.44090908206522,5.9731278535997,5.39794000867204,5.37291200297011,5.38021124171161,5.39794000867204,5.32221929473392,5.60205999132796,5.39794000867204,5.55630250076729,5.47712125471966,5.39794000867204,5.39794000867204,5.39794000867204,5.34242268082221,5.42324587393681,5.41497334797082,null,5.83884909073726,5.53147891704226,5.39794000867204,null,5.40654018043396,5.47712125471966,5.45484486000851,5.38021124171161,null,null,5.46239799789896,5.69897000433602,5.81291335664286,5.42324587393681,null,5.44715803134222,5.43136376415899,5.47712125471966,5.43933269383026,5.39794000867204,5.32221929473392,5.47712125471966,5.46982201597816],"text":["mba_score: 66.28<br />salary: 200000<br />workex: Yes","mba_score: 51.58<br />salary:     NA<br />workex: Yes","mba_score: 62.14<br />salary: 252000<br />workex: Yes","mba_score: 60.85<br />salary: 260000<br />workex: Yes","mba_score: 63.70<br />salary: 250000<br />workex: Yes","mba_score: 64.66<br />salary: 200000<br />workex: Yes","mba_score: 62.54<br />salary: 300000<br />workex: Yes","mba_score: 77.89<br />salary: 236000<br />workex: Yes","mba_score: 63.62<br />salary: 300000<br />workex: Yes","mba_score: 65.33<br />salary:     NA<br />workex: Yes","mba_score: 57.55<br />salary: 240000<br />workex: Yes","mba_score: 64.15<br />salary: 350000<br />workex: Yes","mba_score: 72.78<br />salary: 260000<br />workex: Yes","mba_score: 69.76<br />salary:     NA<br />workex: Yes","mba_score: 69.70<br />salary: 200000<br />workex: Yes","mba_score: 54.55<br />salary: 204000<br />workex: Yes","mba_score: 57.24<br />salary: 260000<br />workex: Yes","mba_score: 68.07<br />salary: 275000<br />workex: Yes","mba_score: 57.65<br />salary: 500000<br />workex: Yes","mba_score: 62.35<br />salary: 240000<br />workex: Yes","mba_score: 70.20<br />salary: 300000<br />workex: Yes","mba_score: 66.69<br />salary: 300000<br />workex: Yes","mba_score: 62.00<br />salary: 300000<br />workex: Yes","mba_score: 76.18<br />salary: 400000<br />workex: Yes","mba_score: 62.36<br />salary: 210000<br />workex: Yes","mba_score: 62.16<br />salary: 420000<br />workex: Yes","mba_score: 64.44<br />salary: 300000<br />workex: Yes","mba_score: 64.95<br />salary:     NA<br />workex: Yes","mba_score: 61.31<br />salary: 300000<br />workex: Yes","mba_score: 65.83<br />salary: 240000<br />workex: Yes","mba_score: 58.23<br />salary: 360000<br />workex: Yes","mba_score: 56.09<br />salary:     NA<br />workex: Yes","mba_score: 70.85<br />salary: 300000<br />workex: Yes","mba_score: 70.48<br />salary: 276000<br />workex: Yes","mba_score: 64.34<br />salary: 940000<br />workex: Yes","mba_score: 71.49<br />salary: 250000<br />workex: Yes","mba_score: 71.00<br />salary: 236000<br />workex: Yes","mba_score: 56.70<br />salary: 240000<br />workex: Yes","mba_score: 61.26<br />salary: 250000<br />workex: Yes","mba_score: 68.20<br />salary: 210000<br />workex: Yes","mba_score: 76.26<br />salary: 400000<br />workex: Yes","mba_score: 68.55<br />salary: 250000<br />workex: Yes","mba_score: 60.78<br />salary: 360000<br />workex: Yes","mba_score: 53.49<br />salary: 300000<br />workex: Yes","mba_score: 60.98<br />salary: 250000<br />workex: Yes","mba_score: 67.13<br />salary: 250000<br />workex: Yes","mba_score: 71.77<br />salary: 250000<br />workex: Yes","mba_score: 54.43<br />salary: 220000<br />workex: Yes","mba_score: 56.94<br />salary: 265000<br />workex: Yes","mba_score: 61.29<br />salary: 260000<br />workex: Yes","mba_score: 58.54<br />salary:     NA<br />workex: Yes","mba_score: 61.30<br />salary: 690000<br />workex: Yes","mba_score: 62.48<br />salary: 340000<br />workex: Yes","mba_score: 53.20<br />salary: 250000<br />workex: Yes","mba_score: 65.99<br />salary:     NA<br />workex: Yes","mba_score: 52.72<br />salary: 255000<br />workex: Yes","mba_score: 72.29<br />salary: 300000<br />workex: Yes","mba_score: 66.06<br />salary: 285000<br />workex: Yes","mba_score: 52.38<br />salary: 240000<br />workex: Yes","mba_score: 75.71<br />salary:     NA<br />workex: Yes","mba_score: 58.79<br />salary:     NA<br />workex: Yes","mba_score: 66.04<br />salary: 290000<br />workex: Yes","mba_score: 66.23<br />salary: 500000<br />workex: Yes","mba_score: 70.81<br />salary: 650000<br />workex: Yes","mba_score: 56.60<br />salary: 265000<br />workex: Yes","mba_score: 59.81<br />salary:     NA<br />workex: Yes","mba_score: 64.86<br />salary: 280000<br />workex: Yes","mba_score: 57.34<br />salary: 270000<br />workex: Yes","mba_score: 56.63<br />salary: 300000<br />workex: Yes","mba_score: 58.95<br />salary: 275000<br />workex: Yes","mba_score: 54.48<br />salary: 250000<br />workex: Yes","mba_score: 67.69<br />salary: 210000<br />workex: Yes","mba_score: 71.55<br />salary: 300000<br />workex: Yes","mba_score: 69.72<br />salary: 295000<br />workex: Yes"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,120,180,1)","opacity":0.6,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(31,120,180,1)"}},"hoveron":"points","name":"Yes","legendgroup":"Yes","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[52.64,52.916582278481,53.193164556962,53.469746835443,53.746329113924,54.0229113924051,54.2994936708861,54.5760759493671,54.8526582278481,55.1292405063291,55.4058227848101,55.6824050632911,55.9589873417722,56.2355696202532,56.5121518987342,56.7887341772152,57.0653164556962,57.3418987341772,57.6184810126582,57.8950632911392,58.1716455696203,58.4482278481013,58.7248101265823,59.0013924050633,59.2779746835443,59.5545569620253,59.8311392405063,60.1077215189873,60.3843037974684,60.6608860759494,60.9374683544304,61.2140506329114,61.4906329113924,61.7672151898734,62.0437974683544,62.3203797468354,62.5969620253165,62.8735443037975,63.1501265822785,63.4267088607595,63.7032911392405,63.9798734177215,64.2564556962025,64.5330379746835,64.8096202531646,65.0862025316456,65.3627848101266,65.6393670886076,65.9159493670886,66.1925316455696,66.4691139240506,66.7456962025316,67.0222784810126,67.2988607594937,67.5754430379747,67.8520253164557,68.1286075949367,68.4051898734177,68.6817721518987,68.9583544303797,69.2349367088608,69.5115189873418,69.7881012658228,70.0646835443038,70.3412658227848,70.6178481012658,70.8944303797468,71.1710126582279,71.4475949367089,71.7241772151899,72.0007594936709,72.2773417721519,72.5539240506329,72.8305063291139,73.1070886075949,73.3836708860759,73.660253164557,73.936835443038,74.213417721519,74.49],"y":[5.4496685727345,5.44522989576863,5.441015535441,5.43702271292549,5.433248649396,5.42969056602642,5.42634568399065,5.42321122446258,5.42028440861609,5.41756245762509,5.41504259266346,5.412712618414,5.41056242856699,5.40861564387768,5.40689699157574,5.40543119889083,5.40424299305264,5.40335092725501,5.40228094148589,5.40094653269934,5.3996622775775,5.39874275280254,5.39850253505661,5.39939103885628,5.40221971575203,5.40641909754885,5.4112045906847,5.41579160159758,5.41939553672546,5.42167587749506,5.42407683628995,5.42669008919689,5.42939709122576,5.43207929738644,5.43461816268881,5.43689514214277,5.4387916907582,5.44018926354498,5.44106915094687,5.4415946152375,5.44187721596692,5.44202774552743,5.44215699631132,5.44237576071088,5.4427948311184,5.44352499992617,5.44467705952647,5.44629496844611,5.44792551977438,5.44948288133569,5.45099256399463,5.45248007861578,5.45397093606374,5.45549064720309,5.45706472289843,5.45871867401435,5.46047801141543,5.46236824596626,5.46440080462273,5.46652070185177,5.4687184043628,5.47099300674467,5.47334360358626,5.47576928947643,5.47826915900403,5.48084230675793,5.48348782732699,5.48620481530007,5.48899236526603,5.49184957181374,5.49477552953206,5.49776933300985,5.50083007683598,5.50395685559929,5.50714876388866,5.51040489629296,5.51372434740103,5.51710621180174,5.52054958408396,5.52405355883654],"text":["mba_score: 52.64000<br />salary: 5.449669<br />workex: No","mba_score: 52.91658<br />salary: 5.445230<br />workex: No","mba_score: 53.19316<br />salary: 5.441016<br />workex: No","mba_score: 53.46975<br />salary: 5.437023<br />workex: No","mba_score: 53.74633<br />salary: 5.433249<br />workex: No","mba_score: 54.02291<br />salary: 5.429691<br />workex: No","mba_score: 54.29949<br />salary: 5.426346<br />workex: No","mba_score: 54.57608<br />salary: 5.423211<br />workex: No","mba_score: 54.85266<br />salary: 5.420284<br />workex: No","mba_score: 55.12924<br />salary: 5.417562<br />workex: No","mba_score: 55.40582<br />salary: 5.415043<br />workex: No","mba_score: 55.68241<br />salary: 5.412713<br />workex: No","mba_score: 55.95899<br />salary: 5.410562<br />workex: No","mba_score: 56.23557<br />salary: 5.408616<br />workex: No","mba_score: 56.51215<br />salary: 5.406897<br />workex: No","mba_score: 56.78873<br />salary: 5.405431<br />workex: No","mba_score: 57.06532<br />salary: 5.404243<br />workex: No","mba_score: 57.34190<br />salary: 5.403351<br />workex: No","mba_score: 57.61848<br />salary: 5.402281<br />workex: No","mba_score: 57.89506<br />salary: 5.400947<br />workex: No","mba_score: 58.17165<br />salary: 5.399662<br />workex: No","mba_score: 58.44823<br />salary: 5.398743<br />workex: No","mba_score: 58.72481<br />salary: 5.398503<br />workex: No","mba_score: 59.00139<br />salary: 5.399391<br />workex: No","mba_score: 59.27797<br />salary: 5.402220<br />workex: No","mba_score: 59.55456<br />salary: 5.406419<br />workex: No","mba_score: 59.83114<br />salary: 5.411205<br />workex: No","mba_score: 60.10772<br />salary: 5.415792<br />workex: No","mba_score: 60.38430<br />salary: 5.419396<br />workex: No","mba_score: 60.66089<br />salary: 5.421676<br />workex: No","mba_score: 60.93747<br />salary: 5.424077<br />workex: No","mba_score: 61.21405<br />salary: 5.426690<br />workex: No","mba_score: 61.49063<br />salary: 5.429397<br />workex: No","mba_score: 61.76722<br />salary: 5.432079<br />workex: No","mba_score: 62.04380<br />salary: 5.434618<br />workex: No","mba_score: 62.32038<br />salary: 5.436895<br />workex: No","mba_score: 62.59696<br />salary: 5.438792<br />workex: No","mba_score: 62.87354<br />salary: 5.440189<br />workex: No","mba_score: 63.15013<br />salary: 5.441069<br />workex: No","mba_score: 63.42671<br />salary: 5.441595<br />workex: No","mba_score: 63.70329<br />salary: 5.441877<br />workex: No","mba_score: 63.97987<br />salary: 5.442028<br />workex: No","mba_score: 64.25646<br />salary: 5.442157<br />workex: No","mba_score: 64.53304<br />salary: 5.442376<br />workex: No","mba_score: 64.80962<br />salary: 5.442795<br />workex: No","mba_score: 65.08620<br />salary: 5.443525<br />workex: No","mba_score: 65.36278<br />salary: 5.444677<br />workex: No","mba_score: 65.63937<br />salary: 5.446295<br />workex: No","mba_score: 65.91595<br />salary: 5.447926<br />workex: No","mba_score: 66.19253<br />salary: 5.449483<br />workex: No","mba_score: 66.46911<br />salary: 5.450993<br />workex: No","mba_score: 66.74570<br />salary: 5.452480<br />workex: No","mba_score: 67.02228<br />salary: 5.453971<br />workex: No","mba_score: 67.29886<br />salary: 5.455491<br />workex: No","mba_score: 67.57544<br />salary: 5.457065<br />workex: No","mba_score: 67.85203<br />salary: 5.458719<br />workex: No","mba_score: 68.12861<br />salary: 5.460478<br />workex: No","mba_score: 68.40519<br />salary: 5.462368<br />workex: No","mba_score: 68.68177<br />salary: 5.464401<br />workex: No","mba_score: 68.95835<br />salary: 5.466521<br />workex: No","mba_score: 69.23494<br />salary: 5.468718<br />workex: No","mba_score: 69.51152<br />salary: 5.470993<br />workex: No","mba_score: 69.78810<br />salary: 5.473344<br />workex: No","mba_score: 70.06468<br />salary: 5.475769<br />workex: No","mba_score: 70.34127<br />salary: 5.478269<br />workex: No","mba_score: 70.61785<br />salary: 5.480842<br />workex: No","mba_score: 70.89443<br />salary: 5.483488<br />workex: No","mba_score: 71.17101<br />salary: 5.486205<br />workex: No","mba_score: 71.44759<br />salary: 5.488992<br />workex: No","mba_score: 71.72418<br />salary: 5.491850<br />workex: No","mba_score: 72.00076<br />salary: 5.494776<br />workex: No","mba_score: 72.27734<br />salary: 5.497769<br />workex: No","mba_score: 72.55392<br />salary: 5.500830<br />workex: No","mba_score: 72.83051<br />salary: 5.503957<br />workex: No","mba_score: 73.10709<br />salary: 5.507149<br />workex: No","mba_score: 73.38367<br />salary: 5.510405<br />workex: No","mba_score: 73.66025<br />salary: 5.513724<br />workex: No","mba_score: 73.93684<br />salary: 5.517106<br />workex: No","mba_score: 74.21342<br />salary: 5.520550<br />workex: No","mba_score: 74.49000<br />salary: 5.524054<br />workex: No"],"type":"scatter","mode":"lines","name":"No","line":{"width":3.77952755905512,"color":"rgba(166,206,227,1)","dash":"solid"},"hoveron":"points","legendgroup":"No","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[52.38,52.7029113924051,53.0258227848101,53.3487341772152,53.6716455696203,53.9945569620253,54.3174683544304,54.6403797468354,54.9632911392405,55.2862025316456,55.6091139240506,55.9320253164557,56.2549367088608,56.5778481012658,56.9007594936709,57.223670886076,57.546582278481,57.8694936708861,58.1924050632911,58.5153164556962,58.8382278481013,59.1611392405063,59.4840506329114,59.8069620253165,60.1298734177215,60.4527848101266,60.7756962025316,61.0986075949367,61.4215189873418,61.7444303797468,62.0673417721519,62.390253164557,62.713164556962,63.0360759493671,63.3589873417722,63.6818987341772,64.0048101265823,64.3277215189873,64.6506329113924,64.9735443037975,65.2964556962025,65.6193670886076,65.9422784810127,66.2651898734177,66.5881012658228,66.9110126582278,67.2339240506329,67.556835443038,67.879746835443,68.2026582278481,68.5255696202532,68.8484810126582,69.1713924050633,69.4943037974683,69.8172151898734,70.1401265822785,70.4630379746835,70.7859493670886,71.1088607594937,71.4317721518987,71.7546835443038,72.0775949367089,72.4005063291139,72.723417721519,73.0463291139241,73.3692405063291,73.6921518987342,74.0150632911392,74.3379746835443,74.6608860759494,74.9837974683544,75.3067088607595,75.6296202531646,75.9525316455696,76.2754430379747,76.5983544303797,76.9212658227848,77.2441772151899,77.5670886075949,77.89],"y":[5.37247244384438,5.3789857529893,5.38533116927439,5.39150835530696,5.39751697369433,5.40335668704381,5.40902715796274,5.41452804905842,5.41985902293817,5.42501974220932,5.43000986947917,5.43482906735506,5.43947699844429,5.4439533253542,5.44829350470072,5.45252112991214,5.45659973095919,5.4604926151226,5.4641630896831,5.46781840353347,5.47173528357586,5.47577441315771,5.47979199830484,5.48364424504312,5.48718735939839,5.4902775473965,5.4927710150633,5.49452396842463,5.49543861149209,5.49595717748811,5.49618112076172,5.49605276705002,5.49551444209017,5.4945084716193,5.49297718137453,5.4908344791776,5.48716657406578,5.48200132047365,5.47594407618239,5.46960019897319,5.46357504662721,5.45847397692563,5.45490234764963,5.45275362216656,5.45037360778511,5.44786880130371,5.44547410467449,5.44342441984958,5.44195464878109,5.44129966827428,5.44127508485048,5.44154276799907,5.44208879036969,5.44289922461194,5.44396014337546,5.44525761930985,5.44677772506475,5.44850653328978,5.45042635273877,5.45248044674258,5.45465622925851,5.45695692234505,5.45938574806069,5.46194592846393,5.46464068561327,5.4674732415672,5.47044681838422,5.47356463812283,5.47682992284153,5.4802458945988,5.48381577545316,5.48754278746308,5.49143015268708,5.49548109318364,5.49969883101127,5.50408658822846,5.50864758689371,5.51338504906551,5.51830219680236,5.52340225216276],"text":["mba_score: 52.38000<br />salary: 5.372472<br />workex: Yes","mba_score: 52.70291<br />salary: 5.378986<br />workex: Yes","mba_score: 53.02582<br />salary: 5.385331<br />workex: Yes","mba_score: 53.34873<br />salary: 5.391508<br />workex: Yes","mba_score: 53.67165<br />salary: 5.397517<br />workex: Yes","mba_score: 53.99456<br />salary: 5.403357<br />workex: Yes","mba_score: 54.31747<br />salary: 5.409027<br />workex: Yes","mba_score: 54.64038<br />salary: 5.414528<br />workex: Yes","mba_score: 54.96329<br />salary: 5.419859<br />workex: Yes","mba_score: 55.28620<br />salary: 5.425020<br />workex: Yes","mba_score: 55.60911<br />salary: 5.430010<br />workex: Yes","mba_score: 55.93203<br />salary: 5.434829<br />workex: Yes","mba_score: 56.25494<br />salary: 5.439477<br />workex: Yes","mba_score: 56.57785<br />salary: 5.443953<br />workex: Yes","mba_score: 56.90076<br />salary: 5.448294<br />workex: Yes","mba_score: 57.22367<br />salary: 5.452521<br />workex: Yes","mba_score: 57.54658<br />salary: 5.456600<br />workex: Yes","mba_score: 57.86949<br />salary: 5.460493<br />workex: Yes","mba_score: 58.19241<br />salary: 5.464163<br />workex: Yes","mba_score: 58.51532<br />salary: 5.467818<br />workex: Yes","mba_score: 58.83823<br />salary: 5.471735<br />workex: Yes","mba_score: 59.16114<br />salary: 5.475774<br />workex: Yes","mba_score: 59.48405<br />salary: 5.479792<br />workex: Yes","mba_score: 59.80696<br />salary: 5.483644<br />workex: Yes","mba_score: 60.12987<br />salary: 5.487187<br />workex: Yes","mba_score: 60.45278<br />salary: 5.490278<br />workex: Yes","mba_score: 60.77570<br />salary: 5.492771<br />workex: Yes","mba_score: 61.09861<br />salary: 5.494524<br />workex: Yes","mba_score: 61.42152<br />salary: 5.495439<br />workex: Yes","mba_score: 61.74443<br />salary: 5.495957<br />workex: Yes","mba_score: 62.06734<br />salary: 5.496181<br />workex: Yes","mba_score: 62.39025<br />salary: 5.496053<br />workex: Yes","mba_score: 62.71316<br />salary: 5.495514<br />workex: Yes","mba_score: 63.03608<br />salary: 5.494508<br />workex: Yes","mba_score: 63.35899<br />salary: 5.492977<br />workex: Yes","mba_score: 63.68190<br />salary: 5.490834<br />workex: Yes","mba_score: 64.00481<br />salary: 5.487167<br />workex: Yes","mba_score: 64.32772<br />salary: 5.482001<br />workex: Yes","mba_score: 64.65063<br />salary: 5.475944<br />workex: Yes","mba_score: 64.97354<br />salary: 5.469600<br />workex: Yes","mba_score: 65.29646<br />salary: 5.463575<br />workex: Yes","mba_score: 65.61937<br />salary: 5.458474<br />workex: Yes","mba_score: 65.94228<br />salary: 5.454902<br />workex: Yes","mba_score: 66.26519<br />salary: 5.452754<br />workex: Yes","mba_score: 66.58810<br />salary: 5.450374<br />workex: Yes","mba_score: 66.91101<br />salary: 5.447869<br />workex: Yes","mba_score: 67.23392<br />salary: 5.445474<br />workex: Yes","mba_score: 67.55684<br />salary: 5.443424<br />workex: Yes","mba_score: 67.87975<br />salary: 5.441955<br />workex: Yes","mba_score: 68.20266<br />salary: 5.441300<br />workex: Yes","mba_score: 68.52557<br />salary: 5.441275<br />workex: Yes","mba_score: 68.84848<br />salary: 5.441543<br />workex: Yes","mba_score: 69.17139<br />salary: 5.442089<br />workex: Yes","mba_score: 69.49430<br />salary: 5.442899<br />workex: Yes","mba_score: 69.81722<br />salary: 5.443960<br />workex: Yes","mba_score: 70.14013<br />salary: 5.445258<br />workex: Yes","mba_score: 70.46304<br />salary: 5.446778<br />workex: Yes","mba_score: 70.78595<br />salary: 5.448507<br />workex: Yes","mba_score: 71.10886<br />salary: 5.450426<br />workex: Yes","mba_score: 71.43177<br />salary: 5.452480<br />workex: Yes","mba_score: 71.75468<br />salary: 5.454656<br />workex: Yes","mba_score: 72.07759<br />salary: 5.456957<br />workex: Yes","mba_score: 72.40051<br />salary: 5.459386<br />workex: Yes","mba_score: 72.72342<br />salary: 5.461946<br />workex: Yes","mba_score: 73.04633<br />salary: 5.464641<br />workex: Yes","mba_score: 73.36924<br />salary: 5.467473<br />workex: Yes","mba_score: 73.69215<br />salary: 5.470447<br />workex: Yes","mba_score: 74.01506<br />salary: 5.473565<br />workex: Yes","mba_score: 74.33797<br />salary: 5.476830<br />workex: Yes","mba_score: 74.66089<br />salary: 5.480246<br />workex: Yes","mba_score: 74.98380<br />salary: 5.483816<br />workex: Yes","mba_score: 75.30671<br />salary: 5.487543<br />workex: Yes","mba_score: 75.62962<br />salary: 5.491430<br />workex: Yes","mba_score: 75.95253<br />salary: 5.495481<br />workex: Yes","mba_score: 76.27544<br />salary: 5.499699<br />workex: Yes","mba_score: 76.59835<br />salary: 5.504087<br />workex: Yes","mba_score: 76.92127<br />salary: 5.508648<br />workex: Yes","mba_score: 77.24418<br />salary: 5.513385<br />workex: Yes","mba_score: 77.56709<br />salary: 5.518302<br />workex: Yes","mba_score: 77.89000<br />salary: 5.523402<br />workex: Yes"],"type":"scatter","mode":"lines","name":"Yes","line":{"width":3.77952755905512,"color":"rgba(31,120,180,1)","dash":"solid"},"hoveron":"points","legendgroup":"Yes","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":54.7945205479452},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"The relationship between MBA scores and salary","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[49.876,79.224],"tickmode":"array","ticktext":["50","60","70"],"tickvals":[50,60,70],"categoryorder":"array","categoryarray":["50","60","70"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"MBA score","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[5.26742510276719,6.00673274649648],"tickmode":"array","ticktext":["3e+05","5e+05","1e+06"],"tickvals":[5.47712125471966,5.69897000433602,6],"categoryorder":"array","categoryarray":["3e+05","5e+05","1e+06"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"Salary","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.913385826771654},"annotations":[{"text":"workex","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"64dd701b53":{"x":{},"y":{},"colour":{},"type":"scatter"},"64d3b11ed09":{"x":{},"y":{},"colour":{}}},"cur_data":"64dd701b53","visdat":{"64dd701b53":["function (y) ","x"],"64d3b11ed09":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>The answer is revealed in the following graph. We see that the average salary is pretty much the same for both groups. The only difference is that there are more outlier points for the group with working experience. That is to say, generally, salary doesn’t depend on previous working experience. However, if you do have working experience, it is more likely for you to get unusually high salary.</p>
<pre class="r"><code>ggplotly(campus%&gt;%
  ggplot(aes(x = workex, y = salary, fill = workex))+geom_boxplot(alpha = 0.7)+
  scale_y_log10()+
  scale_fill_brewer(palette = &quot;Paired&quot;)+
  labs(x = &quot;Working experience&quot;, y = &quot;Salary&quot;, title = &quot;The salary distribution in regard of working experience&quot;))</code></pre>
<pre><code>## Warning: Removed 67 rows containing non-finite values (stat_boxplot).</code></pre>
<div id="htmlwidget-3" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"data":[{"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"y":[5.43136376415899,null,5.39794000867204,null,5.62838893005031,null,null,null,5.36361197989214,null,5.30102999566398,null,null,5.33845649360461,null,5.34242268082221,5.38021124171161,null,null,5.42324587393681,5.42324587393681,5.59439255037543,5.55630250076729,null,5.55630250076729,null,5.43933269383026,5.42324587393681,null,null,5.39794000867204,null,5.44404479591808,5.33845649360461,null,5.47712125471966,null,5.50514997831991,5.38021124171161,5.61384182187607,5.45788189673399,null,null,5.47712125471966,5.39794000867204,5.54406804435028,null,5.39794000867204,5.39794000867204,null,5.47712125471966,null,null,5.65321251377534,5.33445375115093,5.30102999566398,null,5.55630250076729,5.42813479402879,null,5.44715803134222,5.47712125471966,5.38021124171161,5.47712125471966,5.38021124171161,null,null,5.43933269383026,5.47712125471966,null,5.55630250076729,5.38021124171161,5.38021124171161,5.34242268082221,5.52633927738984,null,5.36172783601759,5.38021124171161,5.43136376415899,null,null,5.41497334797082,null,5.69897000433602,null,null,null,null,5.32221929473392,null,null,5.43933269383026,5.36172783601759,null,5.30102999566398,null,5.34242268082221,5.39794000867204,5.34242268082221,5.39794000867204,5.38021124171161,5.57978359661681,5.33445375115093,5.44090908206522,null,5.60205999132796,5.36735592102602,5.47712125471966,5.38021124171161,5.38021124171161,5.41497334797082,null,5.39794000867204,5.42160392686983,5.39794000867204,null,5.33445375115093,5.47712125471966,null,null,null,null,null,null,5.35218251811136,5.54406804435028,null,5.3096301674259,null,null,5.47712125471966,5.47712125471966,null,5.43136376415899,5.41497334797082,null,5.42324587393681,null,null,5.40140054078154,5.60205999132796],"hoverinfo":"y","type":"box","fillcolor":"rgba(166,206,227,0.7)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"},"size":5.66929133858268},"line":{"color":"rgba(51,51,51,1)","width":1.88976377952756},"name":"No","legendgroup":"No","showlegend":true,"xaxis":"x","yaxis":"y","frame":null},{"x":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"y":[5.30102999566398,5.3096301674259,5.43933269383026,5.47712125471966,null,5.42324587393681,5.40140054078154,5.47712125471966,5.30102999566398,5.47712125471966,5.41497334797082,5.41497334797082,null,5.47712125471966,5.41497334797082,5.40654018043396,5.53147891704226,5.47712125471966,5.30102999566398,null,5.47712125471966,5.37291200297011,5.47712125471966,5.39794000867204,5.37291200297011,5.32221929473392,null,null,5.32221929473392,5.39794000867204,5.55630250076729,5.47712125471966,5.38021124171161,5.39794000867204,5.6232492903979,5.47712125471966,5.81291335664286,null,5.34242268082221,5.42324587393681,5.60205999132796,null,5.38021124171161,5.55630250076729,null,5.38021124171161,5.44715803134222,5.54406804435028,null,5.83884909073726,5.39794000867204,5.43136376415899,5.47712125471966,5.39794000867204,5.43933269383026,5.39794000867204,5.69897000433602,5.44090908206522,5.9731278535997,5.47712125471966,5.39794000867204,5.45484486000851,5.38021124171161,5.32221929473392,5.60205999132796,5.38021124171161,5.47712125471966,null,5.39794000867204,5.41497334797082,5.46239799789896,5.46982201597816,5.39794000867204,5.69897000433602],"hoverinfo":"y","type":"box","fillcolor":"rgba(31,120,180,0.7)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"},"size":5.66929133858268},"line":{"color":"rgba(51,51,51,1)","width":1.88976377952756},"name":"Yes","legendgroup":"Yes","showlegend":true,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":54.7945205479452},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"The salary distribution in regard of working experience","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,2.6],"tickmode":"array","ticktext":["No","Yes"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["No","Yes"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"Working experience","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[5.26742510276719,6.00673274649648],"tickmode":"array","ticktext":["3e+05","5e+05","1e+06"],"tickvals":[5.47712125471966,5.69897000433602,6],"categoryorder":"array","categoryarray":["3e+05","5e+05","1e+06"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"Salary","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.913385826771654},"annotations":[{"text":"workex","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"64d4481fbd8":{"x":{},"y":{},"fill":{},"type":"box"}},"cur_data":"64d4481fbd8","visdat":{"64d4481fbd8":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>After all these analysis, we are finally ready to build our model.</p>
</div>
<div id="building-the-machine-learning-model" class="section level2">
<h2>3. Building the machine learning model</h2>
<p>First we will clean our data once more.</p>
<pre class="r"><code>campus_df&lt;-campus%&gt;%select(-sl_no)%&gt;%mutate_if(is.character, factor)</code></pre>
<p>Next, we will split our data into training and testing data. In order to compare the performance of different models later, we ill create a bootstraps object based on our training data.</p>
<pre class="r"><code>set.seed(123)
campus_split &lt;- initial_split(campus_df)

campus_train &lt;- training(campus_split)
campus_test &lt;- testing(campus_split)

campus_boot &lt;- bootstraps(campus_train)</code></pre>
<p>After getting the training data, we will pre-process our data with the help of <code>recipe</code> function in the <code>tidymodels</code> package.</p>
<pre class="r"><code>campus_recipe&lt;-recipe(status~., data = campus_train)%&gt;%
  step_dummy(all_nominal(), -all_outcomes())%&gt;%
  step_knnimpute(salary)%&gt;%
  step_normalize(all_predictors())%&gt;%
  step_corr(all_predictors())%&gt;%
  step_zv(all_predictors())

prep(campus_recipe)%&gt;%juice()</code></pre>
<pre><code>## # A tibble: 162 x 16
##    middle_school_s… high_school_sco… college_score employ_test mba_score  salary
##               &lt;dbl&gt;            &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1          -0.0872           2.37         -1.17        -1.25    -0.606  -0.171 
##  2           1.11             1.11          1.57         1.10     0.673  -0.996 
##  3          -0.281            0.0875       -0.325        0.239   -0.777  -0.407 
##  4          -1.15            -1.50         -2.01        -0.431   -0.498   0.784 
##  5           1.73             0.642         0.980        1.86    -1.17    1.66  
##  6          -1.25            -1.72          0.131       -1.25    -1.84   -0.0179
##  7           1.36            -0.309        -0.0442      -0.356   -0.0345 -0.383 
##  8           0.493            1.18          0.798        1.46    -0.180  -0.631 
##  9          -0.958            0.286        -0.746       -1.32    -1.73    0.0175
## 10          -0.958           -0.606        -0.886       -0.729   -0.255  -0.289 
## # … with 152 more rows, and 10 more variables: status &lt;fct&gt;, gender_M &lt;dbl&gt;,
## #   middle_school_board_Others &lt;dbl&gt;, high_school_board_Others &lt;dbl&gt;,
## #   high_school_special_Commerce &lt;dbl&gt;, high_school_special_Science &lt;dbl&gt;,
## #   college_major_Others &lt;dbl&gt;, college_major_Sci.Tech &lt;dbl&gt;, workex_Yes &lt;dbl&gt;,
## #   mba_special_Mkt.HR &lt;dbl&gt;</code></pre>
<pre class="r"><code>testing_proc &lt;- bake(prep(campus_recipe), new_data = campus_test)</code></pre>
<p>Now we can start to set up the models. In this project, we will build 4 models: a logistic regression model, a random forrest model, a nearest neighbor model, and a decision tree model.</p>
<pre class="r"><code>lr_model &lt;- logistic_reg()%&gt;%set_engine(&quot;glm&quot;)

rf_model &lt;- rand_forest()%&gt;%set_mode(&quot;classification&quot;)%&gt;%set_engine(&quot;ranger&quot;)

nn_model &lt;- nearest_neighbor()%&gt;%set_mode(&quot;classification&quot;)%&gt;%set_engine(&quot;kknn&quot;)

tree_model &lt;- decision_tree()%&gt;%set_mode(&quot;classification&quot;)%&gt;%set_engine(&quot;rpart&quot;)</code></pre>
<p>Then we will create workflow based on the recipe and models we created earlier.</p>
<pre class="r"><code>lr_wf&lt;-workflow()%&gt;%add_recipe(campus_recipe)%&gt;%add_model(lr_model)

rf_wf&lt;-workflow()%&gt;%add_recipe(campus_recipe)%&gt;%add_model(rf_model)

nn_wf&lt;-workflow()%&gt;%add_recipe(campus_recipe)%&gt;%add_model(nn_model)

tree_wf&lt;-workflow()%&gt;%add_recipe(campus_recipe)%&gt;%add_model(tree_model)</code></pre>
<p>Finally, we are ready to fit our models with the bootstraps object we created.</p>
<pre class="r"><code>lr_result&lt;-lr_wf%&gt;%fit_resamples(resamples = campus_boot, control = control_resamples(save_pred = TRUE,verbose = TRUE))

rf_result&lt;-rf_wf%&gt;%fit_resamples(resamples = campus_boot, control = control_resamples(save_pred = TRUE,verbose = TRUE))

nn_result&lt;-nn_wf%&gt;%fit_resamples(resamples = campus_boot, control = control_resamples(save_pred = TRUE,verbose = TRUE))

tree_result&lt;-tree_wf%&gt;%fit_resamples(resamples = campus_boot, control = control_resamples(save_pred = TRUE,verbose = TRUE))</code></pre>
<p>By collecting the metrics, we can evaluate our models. Based on the two metrics we have, we can see that the random forrest model performs the best both in accuracy and roc_auc among the four models.</p>
<pre class="r"><code>lr_result%&gt;%collect_metrics()</code></pre>
<pre><code>## # A tibble: 2 x 5
##   .metric  .estimator  mean     n std_err
##   &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;
## 1 accuracy binary     0.845    25 0.00800
## 2 roc_auc  binary     0.896    25 0.00894</code></pre>
<pre class="r"><code>rf_result%&gt;%collect_metrics()</code></pre>
<pre><code>## # A tibble: 2 x 5
##   .metric  .estimator  mean     n std_err
##   &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;
## 1 accuracy binary     0.856    25 0.00958
## 2 roc_auc  binary     0.908    25 0.00972</code></pre>
<pre class="r"><code>nn_result%&gt;%collect_metrics()</code></pre>
<pre><code>## # A tibble: 2 x 5
##   .metric  .estimator  mean     n std_err
##   &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;
## 1 accuracy binary     0.773    25  0.0110
## 2 roc_auc  binary     0.774    25  0.0110</code></pre>
<pre class="r"><code>tree_result%&gt;%collect_metrics()</code></pre>
<pre><code>## # A tibble: 2 x 5
##   .metric  .estimator  mean     n std_err
##   &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;
## 1 accuracy binary     0.793    25  0.0108
## 2 roc_auc  binary     0.772    25  0.0210</code></pre>
<p>We can actually visualize the result using roc curve:</p>
<pre class="r"><code>result_total&lt;-lr_result%&gt;%collect_predictions()%&gt;%mutate(model = &quot;lr&quot;)%&gt;%bind_rows(rf_result%&gt;%collect_predictions()%&gt;%mutate(model = &quot;rf&quot;))%&gt;%bind_rows(nn_result%&gt;%collect_predictions()%&gt;%mutate(model = &quot;nn&quot;))%&gt;%bind_rows(tree_result%&gt;%collect_predictions()%&gt;%mutate(model = &quot;tree&quot;))

result_total%&gt;%group_by(model)%&gt;%roc_curve(status,`.pred_Not Placed`)%&gt;%autoplot()</code></pre>
<p><img src="/post/2020-09-14-data-analysis-on-campus-recruitment_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>As a result, we are going to use random forrest model for the remaining part of this object. Once we have determined the model, we can fit one last time on our testing data. We can see this time, we have an estimate of 0.961, which is highly accurate in predicting the applicantion status.</p>
<pre class="r"><code>set.seed(1234)
rf_model%&gt;%set_engine(&quot;ranger&quot;, importance = &quot;permutation&quot;)%&gt;%
  fit(status~., prep(campus_recipe)%&gt;%juice)%&gt;%
  predict( new_data = testing_proc,type = &quot;prob&quot;)%&gt;%
  mutate(truth = testing_proc$status)%&gt;%
  roc_auc(truth, `.pred_Not Placed`)</code></pre>
<pre><code>## # A tibble: 1 x 3
##   .metric .estimator .estimate
##   &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
## 1 roc_auc binary         0.961</code></pre>
<p>We can take a look at important factors in our random forrest model. From the graph, we can see the top four determining factors are <code>middel_school_score</code>, <code>college_score</code>, <code>high_school_score</code>, and <code>mba_score</code>, so academic performance is in fact really important. The reason why <code>middle_school_score</code> has the highest importance may be due to the fact the scores of placed and unplaced applicants already have diverged quite a lot in middle school. We notice that <code>gender_M</code> also has a comparablly high importance, which means gender discrimination still exists during the recruitment process.</p>
<pre class="r"><code>set.seed(2345)
library(vip)</code></pre>
<pre><code>## Warning: package &#39;vip&#39; was built under R version 4.0.2</code></pre>
<pre><code>## 
## Attaching package: &#39;vip&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:utils&#39;:
## 
##     vi</code></pre>
<pre class="r"><code>rf_vip&lt;-rf_model%&gt;%
  set_engine(&quot;ranger&quot;, importance = &quot;permutation&quot;)%&gt;%
  fit(status~., prep(campus_recipe)%&gt;%juice)%&gt;%
  vi()

rf_vip%&gt;%ggplot(aes(x = Importance,
                    y = reorder(Variable, Importance)))+
  geom_point()+
  geom_segment(aes(x = 0, 
                   xend = rf_vip$Importance, 
                   y =  reorder(Variable, Importance), 
                   yend =  reorder(Variable, Importance)))+
  labs(y = &quot;Variables&quot;, title = &quot;The Variable of Importance for the random forrest model&quot;)</code></pre>
<pre><code>## Warning: Use of `rf_vip$Importance` is discouraged. Use `Importance` instead.</code></pre>
<p><img src="/post/2020-09-14-data-analysis-on-campus-recruitment_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
